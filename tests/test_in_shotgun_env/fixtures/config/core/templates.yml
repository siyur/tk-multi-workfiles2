# Copyright (c) 2018 Shotgun Software Inc.
#
# CONFIDENTIAL AND PROPRIETARY
#
# This work is provided "AS IS" and subject to the Shotgun Pipeline Toolkit
# Source Code License included in this distribution package. See LICENSE.
# By accessing, using, copying or modifying this work you indicate your
# agreement to the Shotgun Pipeline Toolkit Source Code License. All rights
# not expressly granted therein are reserved by Shotgun Software Inc.


keys:
    Sequence:
        type: str
    Shot:
        type: str
    Step:
        type: str
    sg_asset_type:
        type: str
    Asset:
        type: str
    name:
        type: str
        filter_by: alphanumeric
    iteration:
        type: int
    version:
        type: int
        format_spec: "03"

    version_four:
       type: int
       format_spec: "04"
       alias: version
    timestamp:
        type: str
    width:
        type: int
    height:
        type: int
    segment_name:
        type: str
    texture_extension:
        type: str
        alias: extension
    texture_name:
        type: str
    username:
        type: str
        shotgun_entity_type: HumanUser
        shotgun_field_name: login
    step.name:
        type: str
        shotgun_entity_type: Step
        shotgun_field_name: sg_tank_name
    step.short_name:
        type: str
        shotgun_entity_type: Step
        shotgun_field_name: short_name

    # Represents the optional output name for frames written by the Shotgun Write Node
    nuke.output:
        alias: output
        type: str
        filter_by: alphanumeric

    # Represents the optional output name for frames written by the After Effects Publish Rendering Plugin
    afx.comp:
        alias: comp
        type: str
        filter_by: alphanumeric
    afx.mov.ext:
        alias: extension
        type: str
        choices:
            mov: Quicktime Movie (.mov)
            avi: Audio Video Interleaved (.avi)

    SEQ:
        type: sequence
        format_spec: "04"

    # Represents a frame sequence exported from Flame
    flame.frame:
        type: sequence
        format_spec: "08"

    eye:
        type: str

    houdini.node:
        alias: node
        type: str
    aov_name:
        type: str

    # these are used by the Hiero exporter and pipeline
    YYYY:
        type: int
        format_spec: "04"
    MM:
        type: int
        format_spec: "02"
    DD:
        type: int
        format_spec: "02"
        alias: DD
    project:
        type: str

    # These are used for the Mari UDIM pipeline:
    UDIM:
        type: sequence
        default: "<UDIM>"
    mari.channel:
        type: str
        alias: channel
    mari.layer:
        type: str
        alias: layer
    mari.project_name:
        type: str
        alias: name
    asset_name:
        type: str
        shotgun_entity_type: Asset
        shotgun_field_name: code
    task_name:
        type: str
        shotgun_entity_type: Task
        shotgun_field_name: content

    # Maya supports two extension types.
    maya_extension:
        type: str
        choices:
            ma: Maya Ascii (.ma)
            mb: Maya Binary (.mb)
        default: ma
        alias: extension

    file_extension:
        type: str
        alias: extension

    # These are used by the Loader in Unreal
    sg_asset_type_ue4:
        type: str
        shotgun_entity_type: Asset
        shotgun_field_name: sg_asset_type
    sg_asset_name:
        type: str
        shotgun_entity_type: Asset
        shotgun_field_name: code
    sg_shot_name:
        type: str
        shotgun_entity_type: Shot
        shotgun_field_name: code
    sg_sequence_name:
        type: str
        shotgun_entity_type: Shot
        shotgun_field_name: sg_sequence

    # These are used by the Movie Publish in Unreal
    level_sequence:
        type: str
    world:
        type: str

    # Painter Extension
    painter_extension:
        type: str
        choices:
            spp:  Substance Painter (.spp)
        default: spp
        alias: extension

    # This is used by the Loader in painter
    sg_asset_type_painter:
        type: str
        shotgun_entity_type: Asset
        shotgun_field_name: sg_asset_type

paths:

    # Common  path definitions to use as shorthand in order to avoid repetitive and verbose
    # templates. This also makes it easy to change any of the common root paths and have the
    # changes apply to all templates that use them.
    #
    # These don't require the standard formatting (with definition and root_name) because they
    # will be set within each template that uses the alias.

    asset_root: 3D/{sg_asset_type}/{Asset}/{step.name}

    asset_publish:
        definition: '@asset_root/publish/v{version}/source/{Asset}_{step.short_name}.v{version}.{maya_extension}'

    asset_publish_area:
        definition: '@asset_root/publish'

    asset_work:
        definition: '@asset_root/work/{username}/maya/{Asset}_{step.short_name}.v{version}.{maya_extension}'

    asset_work_area:
        definition: '@asset_root/work/{username}/maya'


